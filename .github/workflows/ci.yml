# **what?**
# Run tests for dbt-codegen against supported adapters

# **why?**
# To ensure that dbt-codegen works as expected with all supported adapters

# **when?**
# On every PR, and every push to main and when manually triggered

name: Package Integration Tests

on:
    push:
        branches:
            - main
    pull_request:
    workflow_dispatch:

jobs:
  run-tests:
      uses: dbt-labs/dbt-package-testing/.github/workflows/run_tox.yml@er/use-action
    #   with:
    #     POSTGRES_SCHEMA: "${{ needs.postgres-creds.outputs.POSTGRES_SCHEMA }}"
    #     POSTGRES_HOST: "${{ needs.postgres-creds.outputs.POSTGRES_HOST }}"
    #     POSTGRES_USER: "${{ needs.postgres-creds.outputs.POSTGRES_USER }}"
    #     POSTGRES_PORT: "${{ needs.postgres-creds.outputs.POSTGRES_PORT }}"
    #     POSTGRES_DATABASE: "${{ needs.postgres-creds.outputs.POSTGRES_DATABASE }}"
    #     DBT_ENV_SECRET_POSTGRES_PASS: ${{ needs.postgres-creds.outputs.DBT_ENV_SECRET_POSTGRES_PASS }}
 
